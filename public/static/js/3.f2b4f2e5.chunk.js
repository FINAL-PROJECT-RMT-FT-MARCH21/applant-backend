(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{29:function(e,t,a){"use strict";a.r(t);var n=a(39),l=a(36),r=a(37),c=a(30),s=a(31),o=a(33),i=a(32),u=a(34),m=(a(16),a(0)),p=a.n(m),d=a(1),h=a(38),E=a.n(h),f=a(67),b=a.n(f),v=(a(68),a(11)),g=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={newPlant:{commonName:"",botanicalName:"",type:[],maintenance:[],water:[],exposure:[],safety:"",purifying:!1,about:"",price:0,stock:0,inStore:!1},newPost:{},adminPermissions:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"toUpper",value:function(e){if(e)return e[0].toUpperCase()+e.slice(1)}},{key:"isAdmin",value:function(){if(this.props.logInSuccess)return!!this.props.userInfo.admin}},{key:"handleSubmit",value:function(e,t,a,n){e.preventDefault(),n?this.props.adminAction(this.state[t][n],a):this.props.adminAction(this.state[t],a)}},{key:"handleInput",value:function(e,t){var a=e.target,n=a.name,r=a.value,c=Object(l.a)({},this.state);c[t][n]="type"===n?"all"===r?["indoors","outdoors"]:r.split(" "):"exposure"===n?"all"===r?["low","medium","high"]:r.split(" "):"purifying"===n||"inStore"===n?!!r:r,this.setState(c)}},{key:"showNewPlantForm",value:function(){var e=this;return p.a.createElement("div",{className:"form-container"},p.a.createElement("h2",null,"New plant"),p.a.createElement("form",{className:"form",onSubmit:function(t){return e.handleSubmit(t,"newPlant","new-plant")}},p.a.createElement("table",null,p.a.createElement("tbody",null,p.a.createElement("tr",null,p.a.createElement("td",{className:"label-column"},p.a.createElement("label",{htmlFor:"image"},"Image URL")),p.a.createElement("td",{className:"input-column"},p.a.createElement("input",{type:"text",name:"image",onChange:function(t){return e.handleInput(t,"newPlant")},placeholder:"https://ibb.co/KyKxWZv"}))),p.a.createElement("tr",null,p.a.createElement("td",{className:"label-column"},p.a.createElement("label",{htmlFor:"commonName"},"Common name")),p.a.createElement("td",{className:"input-column"},p.a.createElement("input",{type:"text",name:"commonName",onChange:function(t){return e.handleInput(t,"newPlant")},placeholder:"encina"}))),p.a.createElement("tr",null,p.a.createElement("td",{className:"label-column"},p.a.createElement("label",{htmlFor:"botanicalName"},"Botanical name")),p.a.createElement("td",{className:"input-column"},p.a.createElement("input",{type:"text",name:"botanicalName",onChange:function(t){return e.handleInput(t,"newPlant")},placeholder:"quercus ilex"}))),p.a.createElement("tr",null,p.a.createElement("td",{className:"label-column"},p.a.createElement("label",{htmlFor:"type"},"Type")),p.a.createElement("td",{className:"input-column"},p.a.createElement("input",{type:"text",name:"type",onChange:function(t){return e.handleInput(t,"newPlant")},placeholder:"indoors / outdoors"}))),p.a.createElement("tr",null,p.a.createElement("td",{className:"label-column"},p.a.createElement("label",{htmlFor:"maintenance"},"Maintenance")),p.a.createElement("td",{className:"input-column"},p.a.createElement("input",{type:"text",name:"maintenance",onChange:function(t){return e.handleInput(t,"newPlant")},placeholder:"low / medium / high"}))),p.a.createElement("tr",null,p.a.createElement("td",{className:"label-column"},p.a.createElement("label",{htmlFor:"water"},"Water")),p.a.createElement("td",{className:"input-column"},p.a.createElement("input",{type:"text",name:"water",onChange:function(t){return e.handleInput(t,"newPlant")},placeholder:"low / medium / high"}))),p.a.createElement("tr",null,p.a.createElement("td",{className:"label-column"},p.a.createElement("label",{htmlFor:"exposure"},"Exposure")),p.a.createElement("td",{className:"input-column"},p.a.createElement("input",{type:"text",name:"exposure",onChange:function(t){return e.handleInput(t,"newPlant")},placeholder:"low / medium / high"}))),p.a.createElement("tr",null,p.a.createElement("td",{className:"label-column"},p.a.createElement("label",{htmlFor:"safety"},"Safety")),p.a.createElement("td",{className:"input-column"},p.a.createElement("input",{type:"text",name:"safety",onChange:function(t){return e.handleInput(t,"newPlant")},placeholder:"yes / (details)"}))),p.a.createElement("tr",null,p.a.createElement("td",{className:"label-column"},p.a.createElement("label",{htmlFor:"purifying"},"Purifying")),p.a.createElement("td",{className:"input-column"},p.a.createElement("input",{type:"checkbox",name:"purifying",onChange:function(t){return e.handleInput(t,"newPlant")},value:"true"}))),p.a.createElement("tr",null,p.a.createElement("td",{className:"label-column"},p.a.createElement("label",{htmlFor:"about"},"About")),p.a.createElement("td",{className:"input-column"},p.a.createElement("textarea",{className:"textarea",type:"text",name:"about",onChange:function(t){return e.handleInput(t,"newPlant")}}))),p.a.createElement("tr",null,p.a.createElement("td",{className:"label-column"},p.a.createElement("label",{htmlFor:"price"},"Price")),p.a.createElement("td",{className:"input-column"},p.a.createElement("input",{type:"number",step:"0.01",name:"price",onChange:function(t){return e.handleInput(t,"newPlant")},placeholder:"0 \u20ac",min:0}))),p.a.createElement("tr",null,p.a.createElement("td",{className:"label-column"},p.a.createElement("label",{htmlFor:"stock"},"Stock")),p.a.createElement("td",{className:"input-column"},p.a.createElement("input",{type:"number",name:"stock",onChange:function(t){return e.handleInput(t,"newPlant")},placeholder:0}))),p.a.createElement("tr",null,p.a.createElement("td",{className:"label-column"},p.a.createElement("label",{htmlFor:"inStore"},"In store ")),p.a.createElement("td",{className:"input-column"},p.a.createElement("input",{type:"checkbox",name:"inStore",onChange:function(t){return e.handleInput(t,"newPlant")},value:"true"}))))),p.a.createElement("button",null,"Create new plant")))}},{key:"showUsers",value:function(){var e=this;return p.a.createElement("div",{className:"form-container"},p.a.createElement("h2",null,"List of users"),p.a.createElement("table",null,p.a.createElement("tbody",null,this.props.users.map(function(t,a){return p.a.createElement("tr",null,p.a.createElement("td",null,p.a.createElement("input",{type:"text",name:"username",value:t.username})),p.a.createElement("td",null,p.a.createElement("input",{type:"password",name:"password",value:t.password})),p.a.createElement("div",{className:"table-btns"},p.a.createElement(v.b,{className:"link",onClick:function(){return e.props.adminAction(t,"/edit-user/".concat(t._id))}},"Modify user"),p.a.createElement(v.b,{className:"link",onClick:function(){return e.props.adminAction(null,"/delete-user/".concat(t._id))}},"Delete user")))}))))}},{key:"showPlants",value:function(){var e=this;return p.a.createElement("div",{className:"form-container"},p.a.createElement("h2",null,"List of plants"),p.a.createElement("table",null,p.a.createElement("tbody",null,this.props.plants.map(function(t,a){return p.a.createElement("tr",null,p.a.createElement("td",null,e.toUpper(t.commonName)),p.a.createElement("div",{className:"table-btns"},p.a.createElement(v.b,{className:"link",to:"plant-details/".concat(t._id)},"Modify plant")))}))))}},{key:"render",value:function(){return p.a.createElement("div",{className:"Admin"},this.showUsers(),this.showPlants(),this.showNewPlantForm())}}]),t}(p.a.Component),y=(a(69),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"getNavbar",value:function(){var e=this;return this.props.userInfo?this.props.userInfo.admin?p.a.createElement("div",{className:"navbar-child"},p.a.createElement("div",{className:"nav-left"},p.a.createElement(v.b,{className:"link",to:"/"},p.a.createElement("div",{className:"nav-btn"},"Home")),p.a.createElement(v.b,{className:"link",to:"/blog"},p.a.createElement("div",{className:"nav-btn"},"Blog")),p.a.createElement(v.b,{className:"link",to:"/store"},p.a.createElement("div",{className:"nav-btn"},"Store"))),p.a.createElement("div",{className:"nav-right"},p.a.createElement(v.b,{className:"link",to:"/admin"},p.a.createElement("div",{className:"nav-btn"},"Admin")),p.a.createElement(v.b,{className:"link",to:"/profile"},p.a.createElement("div",{className:"nav-btn"},"Profile")),p.a.createElement(v.b,{className:"link",onClick:function(){return e.props.authAction(null,"logout")}},p.a.createElement("div",{className:"nav-btn"},"Logout")),p.a.createElement("div",{className:"nav-btn cart-icon"},p.a.createElement(v.b,{className:"link",to:"/shopping-cart"},p.a.createElement("img",{src:"/icons/shopping-cart-icon.png",alt:"cart"}))))):p.a.createElement("div",{className:"navbar-child"},p.a.createElement("div",{className:"nav-left"},p.a.createElement(v.b,{className:"link",to:"/"},p.a.createElement("div",{className:"nav-btn"},"Home")),p.a.createElement(v.b,{className:"link",to:"/blog"},p.a.createElement("div",{className:"nav-btn"},"Blog")),p.a.createElement(v.b,{className:"link",to:"/store"},p.a.createElement("div",{className:"nav-btn"},"Store"))),p.a.createElement("div",{className:"nav-right"},p.a.createElement(v.b,{className:"link",to:"/profile"},p.a.createElement("div",{className:"nav-btn"},"Profile")),p.a.createElement(v.b,{className:"link",onClick:function(){return e.props.authAction(null,"logout")}},p.a.createElement("div",{className:"nav-btn"},"Logout")),p.a.createElement("div",{className:"nav-btn cart-icon"},p.a.createElement(v.b,{className:"link",to:"/shopping-cart"},p.a.createElement("img",{src:"/icons/shopping-cart-icon.png",alt:"cart"}))))):p.a.createElement("div",{className:"navbar-child"},p.a.createElement("div",{className:"nav-left"},p.a.createElement(v.b,{className:"link",to:"/"},p.a.createElement("div",{className:"nav-btn"},"Home")),p.a.createElement(v.b,{className:"link",to:"/blog"},p.a.createElement("div",{className:"nav-btn"},"Blog")),p.a.createElement(v.b,{className:"link",to:"/store"},p.a.createElement("div",{className:"nav-btn"},"Store"))),p.a.createElement("div",{className:"nav-right"},p.a.createElement(v.b,{className:"link",onClick:function(){return e.props.modalAction("open","login")}},p.a.createElement("div",{className:"nav-btn"},"Login"))))}},{key:"render",value:function(){return p.a.createElement("nav",{className:"Navbar"},this.getNavbar())}}]),t}(p.a.Component)),N=(a(70),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"getMsg",value:function(){var e=this;if(this.props.msg)return setTimeout(function(){e.props.cleanMsg()},2e3),p.a.createElement("p",null,this.props.msg)}},{key:"render",value:function(){return p.a.createElement("div",{className:"Message"},this.getMsg())}}]),t}(p.a.Component)),k=(a(71),function(e){function t(){var e,a;Object(c.a)(this,t);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={filteredPlants:Object(n.a)(a.props.allPlants)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"getSearchBar",value:function(){var e=this;return p.a.createElement("input",{type:"text",placeholder:"Search plant",onChange:function(t){return e.filterPlants(t,"commonName")}})}},{key:"getFilterButtons",value:function(){var e=this;return p.a.createElement("div",{className:"filter-buttons"},p.a.createElement("button",{onClick:function(){return e.filterPlants()}},"All"),p.a.createElement("button",{onClick:function(){return e.filterPlants(null,"type","indoors")}},"Indoors"),p.a.createElement("button",{onClick:function(){return e.filterPlants(null,"type","outdoors")}},"Outdoors"))}},{key:"filterPlants",value:function(e,t,a){var n,r;"commonName"===t?(r=e.target.value.toLowerCase(),n=this.props.allPlants.filter(function(e){return e[t].includes(r)})):n="type"===t?this.props.allPlants.filter(function(e){return e.type.includes(a)}):this.props.allPlants,this.setState(Object(l.a)({},this.state,{filteredPlants:n}))}},{key:"getPlants",value:function(){return this.state.filteredPlants.map(function(e,t){return p.a.createElement("div",{key:t,className:"plant-card"},p.a.createElement(v.b,{className:"link",to:"/plant-details/".concat(e._id)},p.a.createElement("img",{src:e.image,alt:e.commonName})),p.a.createElement("h2",null,e.commonName[0].toUpperCase()+e.commonName.slice(1)),p.a.createElement("h3",null,"(",e.botanicalName[0].toUpperCase()+e.botanicalName.slice(1),")"))})}},{key:"render",value:function(){return p.a.createElement("div",{className:"Homepage"},p.a.createElement("h1",{className:"main-title"},"All plants"),this.getSearchBar(),this.getFilterButtons(),0===this.props.allPlants.length?p.a.createElement("div",{className:"spinner"},p.a.createElement("div",{className:"lds-ripple"},p.a.createElement("div",null),p.a.createElement("div",null))):p.a.createElement("div",{className:"plant-cards-container"},this.getPlants()))}}]),t}(p.a.Component)),O=(a(72),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={plant:Object(l.a)({},a.props.allPlants.filter(function(e){return a.props.match.params._id===e._id})[0]),toLikeNotLogged:!1,redirectToAdmin:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"toUpper",value:function(e){return e[0].toUpperCase()+e.slice(1)}},{key:"handleInput",value:function(e){var t=e.target,a=t.name,n=t.value;console.log(a,n),this.setState(Object(l.a)({},this.state,{plant:Object(l.a)({},this.state.plant,Object(r.a)({},a,n))}))}},{key:"adminAction",value:function(e){"edit"===e?this.props.adminAction(this.state.plant,"edit-plant/".concat(this.state.plant._id)):"delete"===e&&(this.props.adminAction(null,"delete-plant/".concat(this.state.plant._id)),this.setState(Object(l.a)({},this.state,{redirectToAdmin:!0})))}},{key:"likeToFavorites",value:function(){var e=this.props.match.params._id;this.props.logInSuccess?this.props.setAppState(e):this.setState(Object(l.a)({},this.state,{toLikeNotLogged:!0}))}},{key:"showPlantDetails",value:function(){var e=this;return this.state.redirectToAdmin?p.a.createElement(d.a,{to:"/admin"}):this.props.userInfo&&this.props.userInfo.admin?p.a.createElement("div",{className:"PlantDetails"},p.a.createElement("div",{className:"imageAndButtons"},p.a.createElement("img",{src:this.state.plant.image,alt:this.state.plant.commonName}),p.a.createElement("button",{className:"link-btn",onClick:function(){return e.adminAction("edit")}},"Edit"),p.a.createElement("button",{className:"link-btn",onClick:function(){return e.adminAction("delete")}},"Delete")),p.a.createElement("div",{className:"infoPlantDetails"},p.a.createElement("form",{className:"form",onSubmit:function(t){return e.handleSubmit(t,"newPlant","new-plant")}},p.a.createElement("h2",null,this.toUpper(this.state.plant.commonName)),p.a.createElement("table",null,p.a.createElement("tbody",null,p.a.createElement("tr",null,p.a.createElement("td",null,"Image URL"),p.a.createElement("td",null,p.a.createElement("input",{onChange:function(t){return e.handleInput(t)},type:"text",name:"image",value:this.state.plant.image}))),p.a.createElement("tr",null,p.a.createElement("td",null,"Common name"),p.a.createElement("td",null,p.a.createElement("input",{onChange:function(t){return e.handleInput(t)},type:"text",name:"commonName",value:this.state.plant.commonName}))),p.a.createElement("tr",null,p.a.createElement("td",null,"Botanical name"),p.a.createElement("td",null,p.a.createElement("input",{onChange:function(t){return e.handleInput(t)},type:"text",name:"botanicalName",value:this.state.plant.botanicalName}))),p.a.createElement("tr",null,p.a.createElement("td",null,"Type"),p.a.createElement("td",null,p.a.createElement("input",{onChange:function(t){return e.handleInput(t)},type:"text",name:"type",value:this.state.plant.type.join(" ")}))),p.a.createElement("tr",null,p.a.createElement("td",null,"Maintenance"),p.a.createElement("td",null,p.a.createElement("input",{onChange:function(t){return e.handleInput(t)},type:"text",name:"maintenance",value:this.state.plant.maintenance}))),p.a.createElement("tr",null,p.a.createElement("td",null,"Water"),p.a.createElement("td",null,p.a.createElement("input",{onChange:function(t){return e.handleInput(t)},type:"text",name:"water",value:this.state.plant.water}))),p.a.createElement("tr",null,p.a.createElement("td",null,"Exposure"),p.a.createElement("td",null,p.a.createElement("input",{onChange:function(t){return e.handleInput(t)},type:"text",name:"exposure",value:this.state.plant.exposure.join(" ")}))),p.a.createElement("tr",null,p.a.createElement("td",null,"Safety"),p.a.createElement("td",null,p.a.createElement("input",{onChange:function(t){return e.handleInput(t)},type:"text",name:"safety",value:this.state.plant.safety}))),this.state.plant.purifying?p.a.createElement("tr",null,p.a.createElement("td",null,"Purifying"),p.a.createElement("td",null,p.a.createElement("input",{onChange:function(t){return e.handleInput(t)},type:"checkbox",name:"purifying",value:1,checked:!0}))):p.a.createElement("tr",null,p.a.createElement("td",null,"Purifying"),p.a.createElement("td",null,p.a.createElement("input",{onChange:function(t){return e.handleInput(t)},type:"checkbox",name:"purifying",value:1}))),p.a.createElement("tr",null,p.a.createElement("td",null,"About"),p.a.createElement("td",null,p.a.createElement("textarea",{name:"about",value:this.state.plant.about}))),p.a.createElement("tr",null,p.a.createElement("td",null,"Price"),p.a.createElement("td",null,p.a.createElement("input",{onChange:function(t){return e.handleInput(t)},type:"number",name:"price",value:this.state.plant.price}))),p.a.createElement("tr",null,p.a.createElement("td",null,"Stock"),p.a.createElement("td",null,p.a.createElement("input",{onChange:function(t){return e.handleInput(t)},type:"number",name:"stock",value:this.state.plant.stock}))),this.state.plant.inStore?p.a.createElement("tr",null,p.a.createElement("td",null,"In store"),p.a.createElement("td",null,p.a.createElement("input",{onChange:function(t){return e.handleInput(t)},type:"checkbox",name:"inStore",value:1,checked:!0}))):p.a.createElement("tr",null,p.a.createElement("td",null,"In store"),p.a.createElement("td",null,p.a.createElement("input",{onChange:function(t){return e.handleInput(t)},type:"checkbox",name:"inStore",value:1})))))))):p.a.createElement("div",{className:"PlantDetails"},p.a.createElement("div",{className:"imageAndButtons"},p.a.createElement("img",{src:this.state.plant.image,alt:this.state.plant.commonName}),p.a.createElement("button",{className:"link-btn",onClick:function(){return e.likeToFavorites()}},"Like"),p.a.createElement(v.b,{className:"link-btn",to:"/store-items/".concat(this.props.match.params._id)},"Go to store")),p.a.createElement("div",{className:"infoPlantDetails"},p.a.createElement("h2",null,this.toUpper(this.state.plant.commonName)),p.a.createElement("i",null,p.a.createElement("h3",null,this.toUpper(this.state.plant.botanicalName))),p.a.createElement("p",null,p.a.createElement("b",null,"Maintenance:")," ",this.toUpper(this.state.plant.maintenance)),p.a.createElement("p",null,p.a.createElement("b",null,"Watering:")," ",this.toUpper(this.state.plant.water)),p.a.createElement("p",null,p.a.createElement("b",null,"Type:")," ",this.state.plant.type.map(function(t){return"".concat(e.toUpper(t)," ")})),p.a.createElement("p",null,p.a.createElement("b",null,"Exposure: "),this.state.plant.exposure.map(function(t){return e.toUpper(t)})),p.a.createElement("p",null,p.a.createElement("b",null,"Air purifying:")," ",this.state.plant.purifying?"Yes":"No"),p.a.createElement("p",null,p.a.createElement("b",null,"Pet/baby safe:")," ",this.state.plant.safety),p.a.createElement("h3",null,p.a.createElement("b",null,"About ",this.toUpper(this.state.plant.commonName))),p.a.createElement("p",null,this.state.plant.about)))}},{key:"render",value:function(){return p.a.createElement("div",{className:"PlantDetails"},p.a.createElement("h2",{className:"main-title"},"PlantDetails"),this.showPlantDetails(),this.state.toLikeNotLogged?p.a.createElement(d.a,{to:"/login"}):null)}}]),t}(p.a.Component)),j=(a(73),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"getPosts",value:function(){var e=this;return p.a.createElement("div",{className:"post-container"},this.props.userInfo&&this.props.userInfo.admin?p.a.createElement("div",null,p.a.createElement("button",{onClick:function(){return e.props.modalAction("open","newPost")}},"New post")):null,this.props.posts.reverse().map(function(e){return p.a.createElement("div",{className:"post"},p.a.createElement("div",null,p.a.createElement("img",{src:e.image,alt:"post-img"})),p.a.createElement("div",{className:"post-content"},p.a.createElement("h2",null,e.title),p.a.createElement("p",null,e.content)))}))}},{key:"render",value:function(){return p.a.createElement("div",{className:"Blog"},this.getPosts())}}]),t}(p.a.Component)),C=(a(74),function(e){function t(){var e,a;Object(c.a)(this,t);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={filteredStoreItems:Object(n.a)(a.props.allPlants)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"getSearchBar",value:function(){var e=this;return p.a.createElement("input",{type:"text",placeholder:"Search plant",onChange:function(t){return e.filterStoreItems(t,"commonName")}})}},{key:"getFilterButtons",value:function(){var e=this;return p.a.createElement("div",{className:"filter-buttons"},p.a.createElement("button",{onClick:function(){return e.filterStoreItems()}},"All"),p.a.createElement("button",{onClick:function(){return e.filterStoreItems(null,"type","indoors")}},"Indoors"),p.a.createElement("button",{onClick:function(){return e.filterStoreItems(null,"type","outdoors")}},"Outdoors"))}},{key:"filterStoreItems",value:function(e,t,a){var n,r;"commonName"===t?(r=e.target.value.toLowerCase(),n=this.props.allPlants.filter(function(e){return e[t].includes(r)})):n="type"===t?this.props.allPlants.filter(function(e){return e.type.includes(a)}):this.props.allPlants,this.setState(Object(l.a)({},this.state,{filteredStoreItems:n}))}},{key:"getStoreItems",value:function(){return this.state.filteredStoreItems.map(function(e,t){return p.a.createElement("div",{key:t,className:"plant-card"},p.a.createElement(v.b,{className:"link",to:"/store-items/".concat(e._id)},p.a.createElement("img",{src:e.image,alt:e.commonName})),p.a.createElement("h2",null,e.commonName[0].toUpperCase()+e.commonName.slice(1)),p.a.createElement("h3",null,"(",e.botanicalName[0].toUpperCase()+e.botanicalName.slice(1),")"))})}},{key:"render",value:function(){return p.a.createElement("div",{className:"Homepage"},p.a.createElement("h1",{className:"main-title"},"Store"),this.getSearchBar(),this.getFilterButtons(),p.a.createElement("div",{className:"plant-cards-container"},this.getStoreItems()))}}]),t}(p.a.Component)),S=(a(75),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"toUpper",value:function(e){if(e)return e[0].toUpperCase()+e.slice(1)}},{key:"getFavoritePlants",value:function(){var e=this,t=this.props.userInfo.favoritePlants;if(t.length>0)return t.map(function(t,a){if(console.log(">>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>",t),t)return p.a.createElement("div",{key:a,className:"plant-card"},p.a.createElement("img",{src:t.image,alt:t.commonName}),p.a.createElement("h2",null,e.toUpper(t.commonName)),p.a.createElement("h3",null,"(",e.toUpper(t.botanicalName),")"),p.a.createElement("button",{className:"link-btn",onClick:function(){return e.props.removeFavoritePlant(t._id)}},"Delete"),p.a.createElement("p",null,p.a.createElement("b",null,"Maintenance:")," ",e.toUpper(t.maintenance)),p.a.createElement("p",null,p.a.createElement("b",null,"Watering:")," ",e.toUpper(t.water)),p.a.createElement("p",null,p.a.createElement("b",null,"Type: "),t.type.map(function(t){return"".concat(e.toUpper(t)," ")})),p.a.createElement("p",null,t.exposure.forEach(function(e){return e})),p.a.createElement("p",null,p.a.createElement("b",null,"Air purifying:")," ",t.purifying?"Yes":"No"),p.a.createElement("p",null,p.a.createElement("b",null,"Pet/baby safe:")," ",t.safety),p.a.createElement("h3",null,p.a.createElement("b",null,"About ",e.toUpper(t.commonName))),p.a.createElement("p",null,t.about))})}},{key:"render",value:function(){return this.props.userInfo?p.a.createElement("div",{className:"Profile"},p.a.createElement("h1",null,"".concat(this.toUpper(this.props.userInfo.username),"'s page")),p.a.createElement("h2",null,"Your favorite plants"),p.a.createElement("div",{className:"plant-cards-container"},this.getFavoritePlants())):p.a.createElement("h1",null,"Login required")}}]),t}(p.a.Component)),P=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={selectedPlantId:[],quantity:0,totalPrice:0,toCartLoggedStatus:void 0},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"handleInput",value:function(e){var t=this.props.match.params._id,a=e.target.value;this.props.userInfo&&this.setState(Object(l.a)({},this.state,{selectedPlantId:t,quantity:a}))}},{key:"addToCart",value:function(){this.props.logInSuccess?(this.props.editStateFromStoreItems(this.state.selectedPlantId,this.state.quantity),this.setState(Object(l.a)({},this.state,{toCartLoggedStatus:"logged"}))):this.setState(Object(l.a)({},this.state,{toCartLoggedStatus:"not logged"}))}},{key:"render",value:function(){var e=this,t=this.props.match.params._id,a=this.props.plants.filter(function(e){return t===e._id})[0];a.price;return console.log(a),0===this.props.plants.length?p.a.createElement("div",{className:"spinner"},p.a.createElement("div",{className:"lds-ripple"},p.a.createElement("div",null),p.a.createElement("div",null))):p.a.createElement("div",{className:"plant-cards-container"},p.a.createElement("div",{className:"plant-card"},p.a.createElement("img",{src:a.image,alt:a.commonName}),p.a.createElement("h2",null,a.commonName[0].toUpperCase()+a.commonName.slice(1)),p.a.createElement("p",null,p.a.createElement("i",null,a.botanicalName[0].toUpperCase()+a.botanicalName.slice(1))),p.a.createElement("input",{className:"input",type:"number",placeholder:"0",min:"0",name:"quantity",onChange:function(t){return e.handleInput(t)}}),p.a.createElement("strong",null,p.a.createElement("p",null,a.price,"\u20ac")),p.a.createElement("button",{onClick:function(){return e.addToCart()}},"Add to cart"),p.a.createElement(v.b,{to:"/plant-details/".concat(t)},"View details")),"not logged"===this.state.toCartLoggedStatus?p.a.createElement(d.a,{to:"#openModal"}):null,"logged"===this.state.toCartLoggedStatus?p.a.createElement(d.a,{to:"/shopping-cart"}):null)}}]),t}(p.a.Component),w=a(89),I=a(76),A=a.n(I),x=a(79),F=a(90),U=a(49);function L(){var e=Object(m.useState)(!1),t=Object(F.a)(e,2),a=t[0],n=t[1],l=Object(m.useState)(null),r=Object(F.a)(l,2),c=r[0],s=r[1],o=Object(m.useState)(""),i=Object(F.a)(o,2),u=i[0],d=i[1],h=Object(m.useState)(!0),E=Object(F.a)(h,2),f=E[0],b=E[1],v=Object(m.useState)(""),g=Object(F.a)(v,2),y=g[0],N=g[1],k=Object(U.useStripe)(),O=Object(U.useElements)();Object(m.useEffect)(function(){window.fetch("https://applant.herokuapp.com/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:[{id:"xl-tshirt"}]})}).then(function(e){return e.json()}).then(function(e){N(e.clientSecret)})},[]);var j=function(){var e=Object(x.a)(A.a.mark(function e(t){return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:b(t.empty),s(t.error?t.error.message:"");case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(x.a)(A.a.mark(function e(t){var a;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),d(!0),e.next=4,k.confirmCardPayment(y,{payment_method:{card:O.getElement(U.CardElement)}});case 4:(a=e.sent).error?(s("Payment failed ".concat(a.error.message)),d(!1)):(s(null),d(!1),n(!0));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return p.a.createElement("div",{className:"CheckoutForm"},p.a.createElement("form",{className:"stripeForm",id:"payment-form",onSubmit:C},p.a.createElement(U.CardElement,{id:"card-element",options:{style:{base:{color:"#32325d",fontFamily:"Arial, sans-serif",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#32325d"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}},onChange:j}),p.a.createElement("button",{disabled:u||f||a,id:"submit"},p.a.createElement("span",{id:"button-text"},u?p.a.createElement("div",{className:"spinner",id:"spinner"}):"Pay now")),c&&p.a.createElement("div",{className:"card-error",role:"alert"},c),p.a.createElement("p",{className:a?"result-message":"result-message hidden"},"Payment succeeded, see the result in your",p.a.createElement("a",{href:"https://dashboard.stripe.com/test/payments"}," ","Stripe dashboard.")," ","Refresh the page to pay again.")))}var M=a(80),_=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"toUpper",value:function(e){if(e)return e[0].toUpperCase()+e.slice(1)}},{key:"getCartItems",value:function(){var e=this,t=this.props.userInfo.cart;if(t)return t.map(function(t,a){return p.a.createElement("div",{key:a,className:"allItemsCart"},p.a.createElement("img",{src:t.plant.image,alt:t.plant.commonName}),p.a.createElement("div",{className:"infoItemCart"},p.a.createElement("b",null,p.a.createElement("p",null,e.toUpper(t.plant.commonName))),p.a.createElement("p",null,p.a.createElement("b",null,"Qty:")," ",t.quantity),p.a.createElement("p",null,p.a.createElement("b",null,"Price:")," ",t.plant.price,"\u20ac"),p.a.createElement("p",null,p.a.createElement("b",null,"Total: "),t.quantity*t.plant.price,"\u20ac"),p.a.createElement("button",{onClick:function(){return e.props.deleteFromCart(t.plant._id)}},p.a.createElement(w.a,{className:"removeIcon"}))))})}},{key:"render",value:function(){console.log("TOTAL PRICE PROPS DE SHOPPING CART"+this.props.totalPrice);var e=Object(M.a)("pk_test_51IrpUwINyfw3Ussjr5TrEoNC8GW0dM1LdTMSLYsAIhofMEO44bCM8br241Ywwi96IRkCNMgKI4kMoSI8nugv9CSA0097t9atRk");return this.props.userInfo?0===this.props.userInfo.cart.lenght?p.a.createElement("h1",null,"Your cart it's empty"):p.a.createElement("div",{className:"ShoppingCart"},p.a.createElement("h1",null,"Cart"),this.getCartItems(),p.a.createElement("p",null,p.a.createElement("b",null,"Total: ")," ",this.props.totalPrice,"\u20ac",p.a.createElement("div",{className:"CheckoutForm"},p.a.createElement(U.Elements,{stripe:e},p.a.createElement(L,null))))):p.a.createElement("h1",null,"Login required")}}]),t}(p.a.Component),D=(a(81),a(82),a(83)),T=(a(86),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={user:{username:"",password:""}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"login",value:function(){var e=this;E()({method:"post",url:"https://applant.herokuapp.com/app/login",data:this.state.user,withCredentials:!0}).then(function(t){e.props.addMsg(t.data.message),e.props.updateState("user")}).catch(function(e){console.log(e)})}},{key:"handleInput",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(l.a)({},this.state,{user:Object(l.a)({},this.state.user,Object(r.a)({},a,n))}))}},{key:"getLoginForm",value:function(){var e=this;return p.a.createElement("div",{className:"form-container"},p.a.createElement("h2",null,"Login"),p.a.createElement("form",{onSubmit:function(){return e.login()}},p.a.createElement("div",null,p.a.createElement("label",{htmlFor:"username"},"Username"),p.a.createElement("input",{type:"text",name:"username",onChange:function(t){return e.handleInput(t)}})),p.a.createElement("div",null,p.a.createElement("label",{htmlFor:"password"},"Password"),p.a.createElement("input",{type:"password",name:"password",onChange:function(t){return e.handleInput(t)}})),p.a.createElement("button",null,"Log in")),p.a.createElement("p",null,"Don't you have an account yet? Register by clicking",p.a.createElement("span",null," "),p.a.createElement(v.b,{onClick:function(){return e.props.modalAction("open","signup")}},"here")))}},{key:"render",value:function(){return p.a.createElement("div",{className:"Login"},this.getLoginForm())}}]),t}(p.a.Component)),B=(a(87),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={user:{username:"",password:""},successSignup:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),E()({method:"post",url:"https://applant.herokuapp.com/app/signup",data:this.state.user}).then(function(e){e.data.successSignup&&t.setState(Object(l.a)({},t.state,{successSignup:!0})),t.props.addMsg(e.data.message),t.props.modalAction("close")}).catch(function(e){console.log(e)})}},{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(l.a)({},this.state,{user:Object(l.a)({},this.state.user,Object(r.a)({},n,a))}))}},{key:"showSignup",value:function(){var e=this;return p.a.createElement("div",{className:"form-container"},p.a.createElement("h2",null,"Sign up"),p.a.createElement("form",{className:"form",onSubmit:function(t){return e.handleSubmit(t)}},p.a.createElement("div",{className:"form-field"},p.a.createElement("label",{htmlFor:"username"},"Username"),p.a.createElement("input",{type:"text",name:"username",onChange:function(t){return e.handleChange(t)}})),p.a.createElement("div",{className:"form-field"},p.a.createElement("label",{htmlFor:"password"},"Password"),p.a.createElement("input",{type:"password",name:"password",onChange:function(t){return e.handleChange(t)}})),p.a.createElement("button",null,"Register new user")),p.a.createElement("p",null,"Do you have an account? Log in",p.a.createElement("span",null," "),p.a.createElement(v.b,{onClick:function(){return e.props.modalAction("open","login")}},"here")))}},{key:"render",value:function(){return this.state.successSignup?p.a.createElement(d.a,{to:"#openModal"}):p.a.createElement("div",{className:"Signup"},this.showSignup())}}]),t}(p.a.Component)),R=(a(88),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={newPost:{}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"handleSubmit",value:function(e,t,a){var n=this;e.preventDefault(),E()({method:"post",url:"https://applant.herokuapp.com/app/".concat(a),data:t,withCredentials:!0}).then(function(e){n.props.addMsg(e.data.data.message),n.props.updateState("posts"),n.props.modalAction("close")}).catch(function(e){console.log(e)})}},{key:"handleInput",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(l.a)({},this.state,{newPost:Object(l.a)({},this.state.newPost,Object(r.a)({},a,n))}))}},{key:"getNewPostForm",value:function(){var e=this;return p.a.createElement("div",{className:"form-container"},p.a.createElement("form",{className:"form",onSubmit:function(t){return e.handleSubmit(t,e.state.newPost,"new-post")}},p.a.createElement("h2",null,"New post"),p.a.createElement("table",null,p.a.createElement("tbody",null,p.a.createElement("tr",null,p.a.createElement("td",null,p.a.createElement("input",{onChange:function(t){return e.handleInput(t)},type:"text",name:"title",placeholder:"Post title"})),p.a.createElement("td",null,p.a.createElement("input",{onChange:function(t){return e.handleInput(t)},type:"text",name:"image",placeholder:"Image URL"}))),p.a.createElement("tr",null,p.a.createElement("td",{colSpan:"2"},p.a.createElement("textarea",{id:"new-post-textarea",onChange:function(t){return e.handleInput(t)},type:"text",name:"content",placeholder:"Post content"}))))),p.a.createElement("button",null,"Create new post")))}},{key:"render",value:function(){return p.a.createElement("div",{className:"NewPost"},this.getNewPostForm())}}]),t}(p.a.Component)),q=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"showModal",value:function(){var e=this;return"login"===this.props.modal?p.a.createElement("div",null,p.a.createElement(D.a,{open:this.props.modalOpened,onClose:function(){return e.props.modalAction("close")}},p.a.createElement(T,this.props))):"signup"===this.props.modal?p.a.createElement("div",null,p.a.createElement(D.a,{open:this.props.modalOpened,onClose:function(){return e.props.modalAction("close")}},p.a.createElement(B,this.props))):"newPost"===this.props.modal?p.a.createElement("div",null,p.a.createElement(D.a,{open:this.props.modalOpened,onClose:function(){return e.props.modalAction("close")}},p.a.createElement(R,this.props))):void 0}},{key:"render",value:function(){return p.a.createElement("div",{className:"Modal"},this.showModal())}}]),t}(p.a.Component),H=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={user:{_id:"",username:"",password:"",admin:!1,favoritePlants:[],cart:[],totalPrice:0},users:[],plants:[],posts:[],message:"",modal:"",modalOpened:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.updateState("users"),this.updateState("plants"),this.updateState("posts"),this.updateState("user")}},{key:"updateState",value:function(e){var t=this;console.log(e),E()({method:"get",url:"https://applant.herokuapp.com/app/".concat(e),withCredentials:!0}).then(function(a){console.log(a.data.data),a.data.data?t.setState(Object(r.a)({},e,a.data.data)):t.setState(Object(r.a)({},e,null))}).catch(function(e){console.log(e)})}},{key:"modalAction",value:function(e,t){t&&this.setState({modal:t}),"open"===e?this.setState({modalOpened:!0}):"close"===e&&this.setState({modalOpened:!1})}},{key:"authAction",value:function(e,t,a){var n=this;a?this.updateUser():E()({method:"post",url:"https://applant.herokuapp.com/app/".concat(t),data:e,withCredentials:!0}).then(function(e){var t=e.data.message;n.setState(Object(l.a)({},n.state,{message:t})),n.updateState("user")}).catch(function(e){console.log(e)})}},{key:"adminAction",value:function(e,t){var a=this,n=Object(l.a)({},this.state);E()({method:"post",url:"https://applant.herokuapp.com/app/".concat(t),data:e,withCredentials:!0}).then(function(e){var t=e.data.message;n.message=t,a.setState(n),a.getUsers(),a.getPlants(),a.getPosts(),a.updateUser()}).catch(function(e){console.log(e)})}},{key:"editStateFromStoreItems",value:function(e,t,a){var r=this;E()({method:"post",url:"https://applant.herokuapp.com/app/add-to-cart",data:{plantId:e,quantity:t,user:this.state.user,totalPrice:this.state.user.totalPrice},withCredentials:!0}).then(function(e){console.log(e);var t=Object(l.a)({},r.state);if(t.message=e.data.message,""===e.user){var a=e.data.updatedPlant,c=t.user.cart.filter(function(e){return a.plant._id.toString()!==e.plant._id.toString()}),s=[a].concat(Object(n.a)(c));t.user.cart=s}else if(""===e.updatedUser){var o=e.data.user;console.log(o),t.user=o}r.setState(t),r.updateState("user")}).catch(function(e){console.log(e)})}},{key:"editStateFromPlantDetails",value:function(e){var t=this;E()({method:"post",url:"https://applant.herokuapp.com/app/add-to-favorites/".concat(e),data:{user:this.state.user},withCredentials:!0}).then(function(a){var n=Object(l.a)({},t.state);n.user.favoritePlants.push(e),n.message=a.data.message,t.setState(n),t.updateUser()}).catch(function(e){console.log(e)})}},{key:"deleteCartItem",value:function(e){var t=this;E()({method:"post",url:"https://applant.herokuapp.com/app/remove-from-cart/".concat(e),data:{user:this.state.user},withCredentials:!0}).then(function(a){console.log(a);var r=Object(n.a)(t.state.user.cart).filter(function(t){return t._id!==e});t.setState(Object(l.a)({},t.state,{user:Object(l.a)({},t.state.user,{cart:r})})),t.updateUser()}).catch(function(e){console.log(e)})}},{key:"removeFavoritePlant",value:function(e){var t=this;E()({method:"post",url:"https://applant.herokuapp.com/app/remove-from-favorites/".concat(e),withCredentials:!0}).then(function(e){t.setState(Object(l.a)({},t.state,{message:e.data.message})),t.updateUser()}).catch(function(e){console.log(e)})}},{key:"addMsg",value:function(e){this.setState(Object(l.a)({},this.state,{message:e}))}},{key:"cleanMsg",value:function(){this.setState(Object(l.a)({},this.state,{message:""}))}},{key:"render",value:function(){var e=this;return console.log(">>>",this.state),p.a.createElement("div",{className:"App"},p.a.createElement(y,{modalAction:function(t,a){return e.modalAction(t,a)},userInfo:this.state.user,authAction:function(t,a,n){return e.authAction(t,a,n)}}),p.a.createElement(N,{msg:this.state.message,cleanMsg:function(){return e.cleanMsg()}}),p.a.createElement(q,{addMsg:function(t){return e.addMsg(t)},modal:this.state.modal,modalAction:function(t,a){return e.modalAction(t,a)},modalOpened:this.state.modalOpened,updateState:function(t){return e.updateState(t)},authAction:function(t,a,n){return e.authAction(t,a,n)},userInfo:this.state.user,adminAction:function(t,a){return e.adminAction(t,a)},editStateFromNewPost:function(t,a){return e.editStateFromNewPost(t,a)}}),p.a.createElement(d.d,null,p.a.createElement(d.b,{path:"/all-plants",exact:!0,component:function(){return p.a.createElement(b.a,{src:e.state.plants,theme:"hopscotch"})}}),p.a.createElement(d.b,{path:"/",exact:!0,component:function(){return p.a.createElement(k,{allPlants:e.state.plants})}}),p.a.createElement(d.b,{path:"/plant-details/:_id",exact:!0,component:function(t){return p.a.createElement(O,Object.assign({},t,{allPlants:e.state.plants,userInfo:e.state.user,setAppState:function(t){return e.editStateFromPlantDetails(t)},adminAction:function(t,a){return e.adminAction(t,a)}}))}}),p.a.createElement(d.b,{path:"/blog",exact:!0,component:function(){return p.a.createElement(j,{userInfo:e.state.user,posts:e.state.posts,modalAction:function(t,a){return e.modalAction(t,a)}})}}),p.a.createElement(d.b,{path:"/store",exact:!0,component:function(){return p.a.createElement(C,{allPlants:e.state.plants})}}),p.a.createElement(d.b,{path:"/store-items/:_id",exact:!0,component:function(t){return p.a.createElement(P,Object.assign({},t,{plants:e.state.plants,userInfo:e.state.user,editStateFromStoreItems:function(t,a,n){return e.editStateFromStoreItems(t,a,n)}}))}}),p.a.createElement(d.b,{path:"/admin",exact:!0,component:function(){return p.a.createElement(g,{users:e.state.users,plants:e.state.plants,addMsg:function(t){return e.addMsg(t)},userInfo:e.state.user,adminAction:function(t,a){return e.adminAction(t,a)}})}}),p.a.createElement(d.b,{path:"/profile",exact:!0,component:function(t){return p.a.createElement(S,Object.assign({},t,{userInfo:e.state.user,removeFavoritePlant:function(t){return e.removeFavoritePlant(t)}}))}}),p.a.createElement(d.b,{path:"/shopping-cart",exact:!0,component:function(){return p.a.createElement(_,{userInfo:e.state.user,deleteFromCart:function(t){return e.deleteCartItem(t)},totalPrice:e.state.user.totalPrice})}})))}}]),t}(p.a.Component);t.default=H},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},81:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){}}]);
//# sourceMappingURL=3.f2b4f2e5.chunk.js.map